var requestUrl=$request.url;var body=$response.body;var obj=JSON.parse(body);try{if(/^https:\/\/api\.coolapk\.com\/v6\/user\/profile/.test(requestUrl)){obj.data.next_level_percentage="98.09";obj.data.experience=4819162;obj.data.next_level_experience=4913000;obj.data.fans=parseInt(Math.random()*9999999);obj.data.follow=parseInt(Math.random()*9999);obj.data.level=17;obj.data.be_like_num=999999999}else if(/^https:\/\/api\.coolapk\.com\/v6\/user\/space/.test(requestUrl)&&obj.data.hasOwnProperty("homeTabCardRows")&&obj.data.homeTabCardRows.length){if(obj.data.homeTabCardRows[0].hasOwnProperty("title")&&obj.data.homeTabCardRows[0].title.indexOf("ä»–")==-1&&obj.data.homeTabCardRows[0].title.indexOf("TA")==-1&&obj.data.homeTabCardRows[0].title.indexOf("å¥¹")==-1){obj.data.next_level_percentage="98.09";obj.data.experience=4819162;obj.data.next_level_experience=4913000;obj.data.fans=parseInt(Math.random()*9999999);obj.data.follow=parseInt(Math.random()*9999);obj.data.be_like_num=parseInt(Math.random()*999999999);obj.data.level=17;obj.data.verify_icon="v_green";obj.data.verify_title="å°å¸½è®¤è¯ï¼šå°Šè´µå¤§ä½¬";obj.data.isDeveloper=1;obj.data.verify_status=1}}else if(/^https:\/\/api\.coolapk\.com\/v6\/main\/indexV8/.test(requestUrl)){if(obj.data.length){var i=obj.data.length;while(i--){if(obj.data[i].hasOwnProperty("entityTemplate")&&obj.data[i].entityTemplate=="imageCarouselCard_1"){if(obj.data[i].hasOwnProperty("entities")){obj.data[i].entities=obj.data[i].entities.filter((el)=>(el.title!="jd"&&el.title.indexOf("ä»Šæ—¥é…·å®‰")!=-1)||el.title.indexOf("ä¼—æµ‹")!=-1)}}else if(obj.data[i].hasOwnProperty("entityTemplate")&&obj.data[i].entityTemplate=="listCard"){obj.data.splice(i,1)}else if(obj.data[i].hasOwnProperty("extra_title")&&obj.data[i].extraTitle!=""){obj.data[i].hasOwnProperty("extra_title")?(obj.data[i].extra_title=""):"";obj.data[i].hasOwnProperty("extra_pic")?(obj.data[i].extra_pic=""):"";obj.data[i].hasOwnProperty("extra_key")?(obj.data[i].extra_key=""):"";obj.data[i].hasOwnProperty("extra_type")?(obj.data[i].extra_type=""):"";obj.data[i].hasOwnProperty("extra_url")?(obj.data[i].extra_url=""):"";obj.data[i].hasOwnProperty("extra_info")?(obj.data[i].extra_info=""):"";obj.data[i].hasOwnProperty("extra_entities")?(obj.data[i].extra_entities=[]):"";obj.data[i].hasOwnProperty("extra_fromApi")?(obj.data[i].extra_fromApi=""):"";obj.data[i].hasOwnProperty("goodsListInfo")?delete obj.data[i].goodsListInfo:""}}}}else if(/^https:\/\/api\.coolapk\.com\/v6\/page\/dataList/.test(requestUrl)){if(obj.data.length){obj.data.forEach((el)=>{el.hasOwnProperty("extra_title")?(el.extra_title=""):"";el.hasOwnProperty("extra_pic")?(el.extra_pic=""):"";el.hasOwnProperty("extra_key")?(el.extra_key=""):"";el.hasOwnProperty("extra_type")?(el.extra_type=""):"";el.hasOwnProperty("extra_url")?(el.extra_url=""):"";el.hasOwnProperty("extra_info")?(el.extra_info=""):"";el.hasOwnProperty("extra_entities")?(el.extra_entities=[]):"";el.hasOwnProperty("extra_fromApi")?(el.extra_fromApi=""):"";el.hasOwnProperty("goodsListInfo")?delete el.goodsListInfo:""})}}else if(/^https:\/\/api\.coolapk\.com\/v6\/account\/loadConfig/.test(requestUrl)){if(obj.data.length){obj.data[0].entities=[]}}else if(/^https:\/\/api\.coolapk\.com\/v6\/feed\/detail/.test(requestUrl)){console.log("1");obj.data.hasOwnProperty("include_goods")?(obj.data.include_goods=[]):"";obj.data.hasOwnProperty("detailSponsorCard")?(obj.data.detailSponsorCard=[]):"";obj.data.hasOwnProperty("extra_title")?(obj.data.extra_title=""):"";obj.data.hasOwnProperty("extra_pic")?(obj.data.extra_pic=""):"";obj.data.hasOwnProperty("extra_key")?(obj.data.extra_key=""):"";obj.data.hasOwnProperty("extra_type")?(obj.data.extra_type=""):"";obj.data.hasOwnProperty("extra_url")?(obj.data.extra_url=""):"";obj.data.hasOwnProperty("extra_info")?(obj.data.extra_info=""):"";obj.data.hasOwnProperty("extra_fromApi")?(obj.data.extra_fromApi=""):"";obj.data.hasOwnProperty("goodsListInfo")?delete obj.data.goodsListInfo:"";obj.data.hasOwnProperty("extra_entities")?(obj.data.extra_entities=[]):"";let str=obj.data.hasOwnProperty("message")?obj.data.message:"";if(str!=undefined&&str.length&&str.indexOf("æŸ¥çœ‹é“¾æŽ¥")!=-1){let list=str.match(/æŸ¥çœ‹é“¾æŽ¥/g);let dealList=[];if(list.length){let strIndex=0;list.forEach((el,index)=>{if(index==0){strIndex=str.indexOf("æŸ¥çœ‹é“¾æŽ¥");let hrefFirstIndex=str.substring(0,strIndex).lastIndexOf("href");let hrefLastIndex=str.substring(hrefFirstIndex+6,strIndex).indexOf('"');let sub_href=str.substring(hrefFirstIndex+6,hrefFirstIndex+6+hrefLastIndex);if(sub_href!=""){dealList.push({index:index+1,href:sub_href})}}else{let strIndexNext=strIndex;strIndex=str.indexOf("æŸ¥çœ‹é“¾æŽ¥",strIndex+1);let hrefFirstIndex=str.substring(strIndexNext,strIndex).lastIndexOf("href");let hrefLastIndex=str.substring(strIndexNext+hrefFirstIndex+6,strIndex).indexOf('"');let sub_href=str.substring(strIndexNext+hrefFirstIndex+6,strIndexNext+hrefFirstIndex+6+hrefLastIndex);if(sub_href!=""){dealList.push({index:index+1,href:sub_href})}}});if(dealList.length){let returnHref="ðŸŽ¯æ•èŽ·åˆ° -"+obj.data.username+" åŠ¨æ€è¯¦æƒ…ä¸­é“¾æŽ¥ï¼Œå…±æ•èŽ·"+dealList.length+"ä¸ªåŽŸå§‹é“¾æŽ¥"+"\n\n";dealList.forEach((url)=>{returnHref=returnHref+"ðŸ”—ç¬¬"+url.index+"ä¸ª"+"ï¼š"+url.href+"\n\n"});$notify("ðŸ“ŒXiaoMao:åŠ¨æ€é“¾æŽ¥æ•èŽ·æˆåŠŸ","ðŸŽ¯ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…",returnHref)}else{$notify("XiaoMaoæç¤º","","åŠ¨æ€é“¾æŽ¥æ•èŽ·å‘ç”Ÿè‡´å‘½é”™è¯¯!")}}}}else if(/^https:\/\/api\.coolapk\.com\/v6\/feed\/(replyList|replyDetail)/.test(requestUrl)){let dealList=[];let getList=obj.data;if(/^https:\/\/api\.coolapk\.com\/v6\/feed\/replyDetail/.test(requestUrl)){dealReplayList(getList.message,dealList,getList.username)}else{if(getList.length){getList.forEach((item)=>{let str=item.message;dealReplayList(str,dealList,item.username);if(item.replyRows&&item.replyRows.length){item.replyRows.forEach((row)=>{let str2=row.message;dealReplayList(str2,dealList,row.username)})}})}}if(dealList.length){let returnHref="ðŸŽ¯æ•èŽ·åˆ°è¯„è®ºåŒºçš„é“¾æŽ¥ï¼Œå…±æ•èŽ·"+dealList.length+"ä¸ªåŽŸå§‹é“¾æŽ¥"+"\n\n";dealList.forEach((url)=>{returnHref=returnHref+"ðŸ”—ç¬¬"+url.index+"ä¸ª"+"ï¼ˆæ¥è‡ª - "+url.name+" çš„å›žå¤ï¼‰"+"ï¼š"+url.href+"\n\n"});$notify("ðŸ“ŒXiaoMao:è¯„è®ºåŒºé“¾æŽ¥æ•èŽ·æˆåŠŸ","ðŸŽ¯ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…",returnHref)}function dealReplayList(str,dealList,username){if(str!=undefined&&str.length&&str.indexOf("æŸ¥çœ‹é“¾æŽ¥")!=-1){let list=str.match(/æŸ¥çœ‹é“¾æŽ¥/g);if(list.length){let strIndex=0;list.forEach((el,index)=>{if(index==0){strIndex=str.indexOf("æŸ¥çœ‹é“¾æŽ¥");let hrefFirstIndex=str.substring(0,strIndex).lastIndexOf("href");let hrefLastIndex=str.substring(hrefFirstIndex+6,strIndex).indexOf('"');let sub_href=str.substring(hrefFirstIndex+6,hrefFirstIndex+6+hrefLastIndex);if(sub_href!=""){dealList.push({index:index+1,name:username,href:sub_href,})}}else{let strIndexNext=strIndex;strIndex=str.indexOf("æŸ¥çœ‹é“¾æŽ¥",strIndex+1);let hrefFirstIndex=str.substring(strIndexNext,strIndex).lastIndexOf("href");let hrefLastIndex=str.substring(strIndexNext+hrefFirstIndex+6,strIndex).indexOf('"');let sub_href=str.substring(strIndexNext+hrefFirstIndex+6,strIndexNext+hrefFirstIndex+6+hrefLastIndex);if(sub_href!=""){dealList.push({index:index+1,name:username,href:sub_href,})}}})}}}}}catch(e){console.log(e)}body=JSON.stringify(obj);$done({body});